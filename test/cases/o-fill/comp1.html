<template component>
  <style>
    :host {
      display: block;
    }
  </style>

  <div>
    <o-fill :value="arr" name="temp1"> </o-fill>
  </div>

  <div>
    <button on:click="changeSome">Change Some</button>
    <button on:click="newArr">New Arr</button>
    <button on:click="arr = null">Clear</button>
  </div>

  <template name="temp1">
    <div :css.color="$data.color">{{$data.val}}</div>
  </template>
  <script>
    export default {
      tag: "comp-one",
      data: {
        arr: [
          {
            val: "1111",
            color: "red",
          },
          {
            val: "222",
            color: "blue",
          },
          {
            val: "33",
            color: "green",
          },
        ],
      },
      proto: {
        changeSome() {
          if (!this.arr) {
            this.arr = [];
          }

          this.arr.reverse();
          this.arr.splice(
            1,
            1,
            {
              val: "2." + Math.random().toString().slice(2, 8),
              color: `rgb(${parseInt(256 * Math.random())}, 0, 256)`,
            },
            {
              val: "2." + Math.random().toString().slice(2, 8),
              color: `rgb(0, ${parseInt(256 * Math.random())}, 256)`,
            }
          );

          console.log(this.arr.toJSON());
        },
        newArr() {
          this.arr = [
            {
              val: "4444",
              color: "pink",
            },
            {
              val: "55555",
              color: "orange",
            },
            {
              val: "666666",
              color: "yellow",
            },
          ];
        },
      },
    };
  </script>
</template>
