//! ofa - v4.0.0 https://github.com/kirakiray/ofa.js  (c) 2018-2023 YAO
!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";new Set;const t=`f-${Math.random().toString(32).slice(2)}`;$.register({tag:"o-router",temp:"<style>:host{display:block;width:100%;height:100%;overflow:hidden}::slotted(o-app){display:block;width:100%;height:100%}</style><slot></slot>",attrs:{fixBody:null},watch:{fixBody(e){if(null!==e){const e=document.createElement("style");e.setAttribute(t,""),e.innerHTML="html,body{margin:0;padding:0;width:100%;height:100%;}",document.head.append(e)}else{const e=document.head.querySelector(t);e&&e.remove()}}},attached(){const t=this.$("o-app");let e;history.state&&history.state.routerMode&&(t.routers=history.state.routers),this.on("router-change",(e=>{switch(e.name){case"goto":const{routers:o}=t,{pathname:s,search:n}=new URL(e.src);if(this._isGoto)return void delete this._isGoto;history.pushState({routerMode:1,routers:o},"",`#${s}${n}`);break;case"back":console.log("back => ",e)}})),window.addEventListener("popstate",e=e=>{console.log("popstate => ",e);const{state:o}=e;if(!o)return void t.back(t.routers.length-1);const{routers:s}=o,{routers:n}=t;if(s.length<n.length)t.back(n.length-s.length);else if(s.length>n.length){const e=s.slice(),o=e.pop();if(e.length>n.length){const o=e.slice(t._history.length);t._history.push(...o)}this._isGoto=1,t.goto(o.src)}}),this._popstateFunc=e},detached(){this._popstateFunc&&window.removeEventListener("popstate",this._popstateFunc)}})}));
//# sourceMappingURL=router.min.js.map
