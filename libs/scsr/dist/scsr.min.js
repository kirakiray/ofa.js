//! ofa - v4.0.0 https://github.com/kirakiray/ofa.js  (c) 2018-2023 YAO
!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";(()=>{async function e(){const e=$("o-app");$("o-app template[page]").remove(),e.push(`<o-page src="${location.pathname}"></o-page>`),function(e,t){history.state&&history.state.routerMode&&(e.routers=history.state.routers);let o,r,n,s=0;e.on("router-change",(n=>{let a="pushState";switch(n.name){case"replace":a="replaceState";case"goto":const{routers:c}=e,{pathname:i,search:l}=new URL(n.src,location.href);if(o)return void(o=null);const u=t?t(i,l,a):`#${i}${l}`;history[a]({routerMode:1,routers:c},"",u);break;case"back":if(r)return void(r=null);s=1,history.go(-n.delta),console.log("back => ",n)}})),window.addEventListener("popstate",n=t=>{const{state:n}=t;if(s)return void(s=0);if(!n)return r=1,void e.back(e.routers.length-1);const{routers:a}=n,{routers:c}=e;if(a.length<c.length)r=1,e.back(c.length-a.length);else if(a.length>c.length){const t=a.slice(),r=t.pop();if(t.length>c.length){const o=t.slice(e._history.length);e._history.push(...o)}o=1,e.goto(r.src)}else console.error("o-router error occurred")})}(e,((e,t)=>`${e}${t}`))}"complete"===document.readyState?e():$(window).one("load",(()=>{e()}))})()}));
//# sourceMappingURL=scsr.min.js.map
